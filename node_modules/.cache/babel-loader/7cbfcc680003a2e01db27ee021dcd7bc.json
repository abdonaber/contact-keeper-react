{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst chain_1 = require(\"../chain\");\n\nconst utils_1 = require(\"../utils\");\n\nconst context_builder_1 = require(\"../context-builder\");\n\nfunction check(fields = '', locations = [], message) {\n  const builder = new context_builder_1.ContextBuilder().setFields(Array.isArray(fields) ? fields : [fields]).setLocations(locations).setMessage(message);\n  const runner = new chain_1.ContextRunnerImpl(builder);\n\n  const middleware = async (req, _res, next) => {\n    try {\n      await runner.run(req);\n      next();\n    } catch (e) {\n      next(e);\n    }\n  };\n\n  return Object.assign(middleware, utils_1.bindAll(runner), utils_1.bindAll(new chain_1.SanitizersImpl(builder, middleware)), utils_1.bindAll(new chain_1.ValidatorsImpl(builder, middleware)), utils_1.bindAll(new chain_1.ContextHandlerImpl(builder, middleware)), {\n    builder\n  });\n}\n\nexports.check = check;","map":{"version":3,"sources":["/Users/abdalla/Desktop/contact-keeper/node_modules/express-validator/src/middlewares/check.js"],"names":["Object","defineProperty","exports","value","chain_1","require","utils_1","context_builder_1","check","fields","locations","message","builder","ContextBuilder","setFields","Array","isArray","setLocations","setMessage","runner","ContextRunnerImpl","middleware","req","_res","next","run","e","assign","bindAll","SanitizersImpl","ValidatorsImpl","ContextHandlerImpl"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAME,iBAAiB,GAAGF,OAAO,CAAC,oBAAD,CAAjC;;AACA,SAASG,KAAT,CAAeC,MAAM,GAAG,EAAxB,EAA4BC,SAAS,GAAG,EAAxC,EAA4CC,OAA5C,EAAqD;AACjD,QAAMC,OAAO,GAAG,IAAIL,iBAAiB,CAACM,cAAtB,GACXC,SADW,CACDC,KAAK,CAACC,OAAN,CAAcP,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CADhC,EAEXQ,YAFW,CAEEP,SAFF,EAGXQ,UAHW,CAGAP,OAHA,CAAhB;AAIA,QAAMQ,MAAM,GAAG,IAAIf,OAAO,CAACgB,iBAAZ,CAA8BR,OAA9B,CAAf;;AACA,QAAMS,UAAU,GAAG,OAAOC,GAAP,EAAYC,IAAZ,EAAkBC,IAAlB,KAA2B;AAC1C,QAAI;AACA,YAAML,MAAM,CAACM,GAAP,CAAWH,GAAX,CAAN;AACAE,MAAAA,IAAI;AACP,KAHD,CAIA,OAAOE,CAAP,EAAU;AACNF,MAAAA,IAAI,CAACE,CAAD,CAAJ;AACH;AACJ,GARD;;AASA,SAAO1B,MAAM,CAAC2B,MAAP,CAAcN,UAAd,EAA0Bf,OAAO,CAACsB,OAAR,CAAgBT,MAAhB,CAA1B,EAAmDb,OAAO,CAACsB,OAAR,CAAgB,IAAIxB,OAAO,CAACyB,cAAZ,CAA2BjB,OAA3B,EAAoCS,UAApC,CAAhB,CAAnD,EAAqHf,OAAO,CAACsB,OAAR,CAAgB,IAAIxB,OAAO,CAAC0B,cAAZ,CAA2BlB,OAA3B,EAAoCS,UAApC,CAAhB,CAArH,EAAuLf,OAAO,CAACsB,OAAR,CAAgB,IAAIxB,OAAO,CAAC2B,kBAAZ,CAA+BnB,OAA/B,EAAwCS,UAAxC,CAAhB,CAAvL,EAA6P;AAAET,IAAAA;AAAF,GAA7P,CAAP;AACH;;AACDV,OAAO,CAACM,KAAR,GAAgBA,KAAhB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst chain_1 = require(\"../chain\");\nconst utils_1 = require(\"../utils\");\nconst context_builder_1 = require(\"../context-builder\");\nfunction check(fields = '', locations = [], message) {\n    const builder = new context_builder_1.ContextBuilder()\n        .setFields(Array.isArray(fields) ? fields : [fields])\n        .setLocations(locations)\n        .setMessage(message);\n    const runner = new chain_1.ContextRunnerImpl(builder);\n    const middleware = async (req, _res, next) => {\n        try {\n            await runner.run(req);\n            next();\n        }\n        catch (e) {\n            next(e);\n        }\n    };\n    return Object.assign(middleware, utils_1.bindAll(runner), utils_1.bindAll(new chain_1.SanitizersImpl(builder, middleware)), utils_1.bindAll(new chain_1.ValidatorsImpl(builder, middleware)), utils_1.bindAll(new chain_1.ContextHandlerImpl(builder, middleware)), { builder });\n}\nexports.check = check;\n"]},"metadata":{},"sourceType":"script"}